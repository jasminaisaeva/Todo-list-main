{"version":3,"sources":["components/Container/index.jsx","store/actions/index.js","components/TodoItem/index.jsx","App.js","store/reducers/index.js","store/index.js","index.js"],"names":["Container","styled","main","ADD_TODO","DELETE_TODO","EDIT_TODO","TOGGLE_TODO","ALL","COMPLETED","ACTIVE","SET_FILTER","set_filter","filter","type","ItemContainer","after","children","Item","div","props","TodoItem","todo","id","dispatch","useDispatch","deadline","moment","format","isAfter","style","border","background","value","text","onChange","e","edit_todo","target","textDecoration","checked","marginRight","console","log","toggle_todo","danger","onClick","delete_todo","Title","h1","InputBlock","App","useState","setText","date","setDate","todos","useSelector","state","currentFilter","className","placeholder","width","add_todo","filtered_todos","map","el","initialState","nextTodoId","toSave","obj","localStorage","setItem","JSON","stringify","localDate","parse","getItem","store","createStore","action","obj2","obj3","obj4","obj5","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.65b80f4a.chunk.js","sourcesContent":["import styled from 'styled-components'\r\n\r\nexport const Container = styled.main`\r\nwidth: 600px;\r\nmargin: 0 auto;\r\n`","// constants\r\n\r\nexport const ADD_TODO = \"ADD_TODO\";\r\nexport const DELETE_TODO = \"DELETE_TODO\";\r\nexport const EDIT_TODO = \"EDIT_TODO\";\r\nexport const TOGGLE_TODO = \"TOGGLE_TODO\";\r\nexport const ALL = \"ALL\";\r\nexport const COMPLETED = \"COMPLETED\";\r\nexport const ACTIVE = \"ACTIVE\";\r\nexport const SET_FILTER = \"SET_FILTER\";\r\n\r\n// action creators\r\n\r\nexport const set_filter = (filter) => ({\r\n  type: SET_FILTER,\r\n  filter,\r\n});\r\n\r\nexport const add_todo = (text, date) => ({\r\n  type: ADD_TODO,\r\n  text,\r\n  date,\r\n});\r\n\r\nexport const delete_todo = (id) => ({\r\n  type: DELETE_TODO,\r\n  id,\r\n});\r\n\r\nexport const edit_todo = (id, text) => ({\r\n  type: EDIT_TODO,\r\n  id,\r\n  text,\r\n});\r\n\r\nexport const toggle_todo = (id, value) => ({\r\n  type: TOGGLE_TODO,\r\n  id,\r\n  value,\r\n});\r\n","import React from \"react\";\r\nimport { Button, Checkbox } from \"antd\";\r\nimport styled from \"styled-components\";\r\nimport moment from \"moment\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { delete_todo, toggle_todo, edit_todo } from \"../../store/actions/\";\r\n\r\nconst ItemContainer = ({ after, children }) => {\r\n  return after ? <Item>{children}</Item> : <Item after>{children}</Item>;\r\n};\r\n\r\nconst Item = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 10px 0;\r\n  background-color: ${(props) => {\r\n    return props.after ? \"pink\" : \"beige\";\r\n  }};\r\n  padding: 8px;\r\n  borderradius: 5px;\r\n`;\r\n\r\nexport const TodoItem = ({ todo, id }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  function onChange(e) {\r\n    console.log(`checked = ${e.target.checked} `);\r\n    dispatch(toggle_todo(id, e.target.checked));\r\n    console.log(todo);\r\n  }\r\n\r\n  const deadline = moment(todo.deadline).format(\"MMMM Do YYYY\");\r\n  const after = moment(todo.deadline).isAfter(moment());\r\n\r\n  return (\r\n    <ItemContainer after={after}>\r\n      {/* <div\r\n        onChange={(e) => dispatch(edit_todo(e.currentTarget.textContent))}\r\n        contentEditable={true}\r\n        style={{ textDecoration: todo.checked && \"line-through\" }}\r\n      >\r\n        {todo.text}\r\n      </div> */}\r\n\r\n      <input\r\n        style={{ border: \"none\", background: \"none\" }}\r\n        type=\"text\"\r\n        value={todo.text}\r\n        onChange={(e) => {\r\n          dispatch(edit_todo(id, e.target.value));\r\n        }}\r\n      />\r\n\r\n      <i style={{ textDecoration: todo.checked && \"line-through\" }}>\r\n        {deadline}\r\n      </i>\r\n\r\n      <div>\r\n        <Checkbox\r\n          checked={todo.checked}\r\n          style={{ marginRight: 10 }}\r\n          onChange={onChange}\r\n        ></Checkbox>\r\n        <Button type=\"primary\" danger onClick={() => dispatch(delete_todo(id))}>\r\n          delete\r\n        </Button>\r\n      </div>\r\n    </ItemContainer>\r\n  );\r\n};\r\n","import \"./App.css\";\nimport { Container } from \"./components/Container\";\nimport styled from \"styled-components\";\nimport { Input, DatePicker, Button, Checkbox } from \"antd\";\nimport { TodoItem } from \"./components/TodoItem\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useState } from \"react\";\nimport { add_todo, set_filter, ALL, COMPLETED, ACTIVE } from \"./store/actions\";\n\n// sub-components\nconst Title = styled.h1`\n  text-align: center;\n  margin-bottom: 10px;\n`;\n\nconst InputBlock = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\n// main component\nfunction App() {\n  // hooks\n  const [text, setText] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n\n  // store\n  const todos = useSelector((state) => state.todos);\n  const currentFilter = useSelector((state) => state.filter);\n  const dispatch = useDispatch();\n\n  function onChangeDate(date) {\n    // console.log(date, dateString);\n    setDate(date);\n  }\n\n  // onclick button Add\n  const onAdd = () => {\n    text && date && dispatch(add_todo(text, date));\n    setText(\"\");\n  };\n\n  const filtered_todos = () => {\n    switch (currentFilter) {\n      case ALL:\n        return todos;\n      case COMPLETED:\n        return todos.filter((todos) => todos.checked);\n      case ACTIVE:\n        return todos.filter((todos) => !todos.checked);\n\n      default:\n        return todos;\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <Container>\n        <Title>Todo List</Title>\n        <InputBlock>\n          <Input\n            value={text}\n            onChange={(e) => setText(e.target.value)}\n            placeholder=\"type smth ...\"\n            style={{ width: 350 }}\n          />\n          <DatePicker value={date} onChange={onChangeDate} />\n          <Button onClick={onAdd} type=\"primary\">\n            Add\n          </Button>\n        </InputBlock>\n        <div>\n          <Checkbox\n            checked={currentFilter === ALL}\n            style={{ marginRight: 10 }}\n            onChange={() => {\n              dispatch(set_filter(ALL));\n            }}\n          >\n            {\" \"}\n            All\n          </Checkbox>\n          <Checkbox\n            checked={currentFilter === COMPLETED}\n            style={{ marginRight: 10 }}\n            onChange={() => {\n              dispatch(set_filter(COMPLETED));\n            }}\n          >\n            {\" \"}\n            Completed\n          </Checkbox>\n          <Checkbox\n            checked={currentFilter === ACTIVE}\n            style={{ marginRight: 10 }}\n            onChange={() => {\n              dispatch(set_filter(ACTIVE));\n            }}\n          >\n            Active\n          </Checkbox>\n        </div>\n\n        <div>\n          {filtered_todos().map((el, id) => {\n            return <TodoItem key={id} id={el.id} todo={el} />;\n          })}\n        </div>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","import {\r\n  ADD_TODO,\r\n  DELETE_TODO,\r\n  EDIT_TODO,\r\n  TOGGLE_TODO,\r\n  SET_FILTER,\r\n  ALL,\r\n} from \"../actions\";\r\n\r\nconst initialState = {\r\n  todos: [],\r\n  filter: ALL,\r\n  nextTodoId : 0,\r\n};\r\n\r\nconst toSave = (obj) => {\r\n  localStorage.setItem(\"state\", JSON.stringify(obj));\r\n};\r\n\r\nconst localDate = JSON.parse(localStorage.getItem(\"state\"));\r\n\r\nexport const rootReducer = (\r\n  state = localDate ? localDate : initialState,\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case ADD_TODO:\r\n      let obj = {\r\n        ...state,\r\n        todos: [\r\n          ...state.todos,\r\n          {\r\n            id: state.nextTodoId++,\r\n            text: action.text,\r\n            deadline: action.date,\r\n            checked: false,\r\n          },\r\n        ],\r\n        nextTodoId: state.nextTodoId++\r\n      };\r\n   \r\n      toSave(obj);\r\n      return obj;\r\n    case DELETE_TODO:\r\n      let obj2 = {\r\n        ...state,\r\n        todos: state.todos.filter((el) => el.id !== action.id),\r\n      };\r\n      toSave(obj2);\r\n\r\n      return obj2;\r\n\r\n    case TOGGLE_TODO:\r\n      let obj3 = {\r\n        ...state,\r\n        todos: state.todos.map((todo) => {\r\n          return todo.id === action.id ? { ...todo, checked: action.value } : todo;\r\n        }),\r\n      };\r\n      toSave(obj3);\r\n\r\n      return obj3;\r\n\r\n    case EDIT_TODO:\r\n      let obj4 = {\r\n        ...state,\r\n        todos: state.todos.map((todo) => {\r\n          return todo.id === action.id ? { ...todo, text: action.text } : todo;\r\n        }),\r\n      };\r\n      toSave(obj4);\r\n\r\n      return obj4;\r\n    case SET_FILTER:\r\n      let obj5 = {\r\n        ...state,\r\n        filter: action.filter,\r\n      };\r\n      toSave(obj5);\r\n\r\n      return obj5;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore } from \"redux\";\r\nimport { rootReducer } from \"./reducers\";\r\n\r\nexport const store = createStore(rootReducer);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"antd/dist/antd.css\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}